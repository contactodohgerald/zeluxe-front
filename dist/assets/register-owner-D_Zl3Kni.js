import{u as v,a as w,b as N,l as k,i as _,f as C,j as e,k as L,B as R,L as E,p as f,h as F}from"./index-BQGAvRb0.js";import{A}from"./password-reset-CM26IJqX.js";import{B as O}from"./get-category-DMwHXmbr.js";import{u as P,F as B,I as o,S as c}from"./get-countries-XomYH-oX.js";import{u as I,g as S}from"./get-states-C-Ja6L8L.js";import"./confirm-booking-payment-CJld9iR6.js";import"./not-found-BC-blbTe.js";import"./get-listings-BeTtOIxE.js";import"./get-reviews-CP1KRBQV.js";const T=({data:n})=>N.post("/auth/register-owner",n),q=({mutationConfig:n}={})=>{const l=v(),{onSuccess:d,...t}=n||{};return w({onSuccess:(...i)=>{l.invalidateQueries({queryKey:["register-owner"]}),d==null||d(...i)},...t,mutationFn:T})},H=()=>{const[n]=k(),l=n.get("redirectTo"),d=_(),t=I({}),i=P({}),{addNotification:m}=C(),p=q({mutationConfig:{onSuccess(){m({type:"success",title:"Success",message:"Registration Successful"}),d(f.auth.verify.getHref(),{replace:!0})},onError:r=>{const s=F(r);m({type:"error",title:r==null?void 0:r.message,message:s})}}});return e.jsx("div",{className:"w-full rounded-lg bg-white shadow dark:border dark:border-gray-700 dark:bg-gray-800 sm:max-w-md md:mt-0 md:max-w-xl xl:p-0",children:e.jsxs("div",{className:"space-y-4 p-6 sm:p-8 md:space-y-6",children:[e.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight text-success dark:text-white md:text-2xl",children:"Register As Owner"}),e.jsx(B,{onSubmit:r=>{L.getState().setEmail(r.email),p.mutate({data:r})},schema:R,options:{shouldUnregister:!0},className:"space-y-4 md:space-y-6",children:({register:r,formState:s})=>{var u,x,g,h,y,j,b;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-2",children:[e.jsx("div",{children:e.jsx(o,{type:"text",label:"First Name",error:s.errors.first_name,registration:r("first_name")})}),e.jsx("div",{children:e.jsx(o,{type:"text",label:"Last Name",error:s.errors.last_name,registration:r("last_name")})}),e.jsx("div",{children:e.jsx(o,{type:"text",label:"Email",error:s.errors.email,registration:r("email")})}),e.jsx("div",{children:e.jsx(o,{type:"text",label:"Address",error:s.errors.address,registration:r("address")})}),e.jsx("div",{children:e.jsx(o,{type:"text",label:"Phone Number",error:s.errors.phone,registration:r("phone")})}),e.jsx("div",{children:e.jsx(c,{label:"State",error:s.errors.state_id,registration:r("state_id"),options:t.isLoading||!((u=t.data)!=null&&u.data)?[]:(g=(x=t==null?void 0:t.data)==null?void 0:x.data)==null?void 0:g.map(a=>({label:a.name,value:a.id}))})}),e.jsx("div",{children:e.jsx(o,{type:"password",label:"Password",error:s.errors.password,registration:r("password"),placeholder:"••••••••"})}),e.jsx("div",{children:e.jsx(o,{type:"password",label:"Confirm password",error:s.errors.password_confirmation,registration:r("password_confirmation"),placeholder:"••••••••"})}),e.jsx("div",{children:e.jsx(c,{label:"Country",error:s.errors.country_id,registration:r("country_id"),options:i.isLoading||!((h=i.data)!=null&&h.data)?[]:(j=(y=i==null?void 0:i.data)==null?void 0:y.data)==null?void 0:j.map(a=>({label:a.name,value:a.id}))})}),e.jsx("div",{children:e.jsx(c,{label:"Gender",error:s.errors.gender,registration:r("gender"),options:(b=S)==null?void 0:b.map(a=>({label:a.label,value:a.value}))})})]}),e.jsx(O,{isLoading:p.isPending,type:"submit",className:"focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 w-full rounded-lg bg-success px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-primary focus:outline-none focus:ring-4",children:"Create an account"}),e.jsxs("p",{className:"text-sm font-light text-gray-500 dark:text-gray-400",children:["Already have an account?"," ",e.jsx(E,{to:f.auth.login.getHref(l),className:"text-primary-600 dark:text-primary-500 font-medium hover:underline",children:"Login here"})]})]})}})]})})},W=()=>e.jsx(A,{title:"",children:e.jsx("section",{className:"bg-gray-50 pb-24 dark:bg-gray-900",children:e.jsx("div",{className:"mx-auto flex flex-col items-center justify-center px-6 py-8 md:h-screen lg:py-0",children:e.jsx(H,{})})})});export{W as RegisterOwnerRoute};
