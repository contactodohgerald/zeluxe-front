import{f as F,r as b,g as _,j as t,o as k,h as S}from"./index-BQGAvRb0.js";import{u as A,C as D}from"./confirm-booking-payment-CJld9iR6.js";import{P as y,a as O,b as T}from"./dashboard_profile-D9FP-n3l.js";import"./get-countries-XomYH-oX.js";import"./get-reviews-CH1a8Vu-.js";import"./get-category-DMwHXmbr.js";import{u as V,c as q}from"./create-uploads-DU__Qd65.js";import{u as z}from"./get-listings-Ca6lcEl9.js";import{u as B}from"./get-reviews-CP1KRBQV.js";import{C as G}from"./modal-tC5wcTJS.js";import"./listings-card-Cvou4UQX.js";import"./password-reset-CM26IJqX.js";import"./not-found-BC-blbTe.js";import"./get-listings-BeTtOIxE.js";import"./get-states-C-Ja6L8L.js";const H=()=>{var x,f,u,h,g,j;const{addNotification:p}=F(),[E,o]=b.useState(null),e=_(),R=V(),i=z(),l=B(),n=A(),r=(x=i==null?void 0:i.data)==null?void 0:x.data,m=(f=l==null?void 0:l.data)==null?void 0:f.data,C=(u=n==null?void 0:n.data)==null?void 0:u.data,U=m==null?void 0:m.length,I=[{id:1,item_count:r==null?void 0:r.active.length,type:"Listing"},{id:2,item_count:30,type:"Sold"},{id:3,item_count:U,type:"Reviews"}];b.useEffect(()=>{var a;(a=e==null?void 0:e.data)!=null&&a.avatar&&o(e.data.avatar)},[e]);const L=a=>{var N;const c=(N=a.target.files)==null?void 0:N[0];if(!c)return;const P=URL.createObjectURL(c);o(P);const w=q.parse({document:[c]});R.mutate({data:w},{onSuccess(s){var v;p({type:"success",title:"success",message:"Image uploaded successfully"});const d=(v=s==null?void 0:s.data)==null?void 0:v.url;o(d)},onError(s){const d=S(s);p({type:"error",title:"Validation Error",message:d})}})};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("div",{className:"",children:[t.jsx("label",{htmlFor:"upload",className:"flex cursor-pointer flex-col items-center gap-2",children:t.jsxs("div",{className:"relative h-[9.7rem] w-[9.7rem] shrink-0 rounded-full object-cover",children:[t.jsx("img",{src:E||y,className:"h-[9.7rem] w-[9.7rem] rounded-full object-cover",alt:"Profile Image",onError:a=>k(a,y)}),t.jsx("div",{className:"absolute right-0 top-[6.8rem]",children:t.jsx(O,{})})]})}),t.jsx("input",{id:"upload",type:"file",className:"hidden",onChange:L})]}),t.jsxs("div",{className:"mt-[0.97rem] text-center",children:[t.jsxs("h4",{className:"font-lato text-[1.36rem] font-bold leading-[1.63rem] tracking-[0.03em] text-primary",children:[(h=e==null?void 0:e.data)==null?void 0:h.first_name," ",(g=e==null?void 0:e.data)==null?void 0:g.last_name]}),t.jsx("p",{className:"font-lato text-[0.97rem] font-semibold leading-[1.2rem] tracking-[0.03em] text-primary",children:(j=e==null?void 0:e.data)==null?void 0:j.email})]}),t.jsx("div",{className:"mt-3 flex gap-2",children:I.map(a=>t.jsxs(G,{className:"flex h-[5.94rem] w-[6.68rem] flex-col items-center justify-center rounded-[1.53rem] border-[1.36px] border-[#ECEDF3] md:w-[8.68rem]",children:[t.jsx("h6",{className:"text-center text-[1.2rem] font-bold leading-[1.43rem] tracking-[0.03em] text-primary",children:a.item_count}),t.jsx("p",{className:"text-center font-lato text-[0.85rem] font-medium leading-[1.02rem] tracking-[0.03em] text-primary",children:a.type})]},a.id))}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx(T,{rentals:C,listings:r})})]})})},lt=()=>t.jsx(D,{title:"",children:t.jsx(H,{})});export{lt as ProfileRoute};
