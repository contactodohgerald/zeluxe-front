import{A as v,l as N,f as y,j as e,k as w,h as k,B as _,L,p as j,i as R}from"./index-CMbjzSXO.js";import{A as E}from"./password-reset-CEgizwO2.js";import{B as A}from"./get-category-D_4z0seI.js";import{u as C,F,I as a,S as h}from"./get-countries-D00X0R5n.js";import{u as P}from"./get-states-CxLu8I-w.js";import"./confirm-booking-payment-zrejkqYx.js";import"./not-found-BtJxH9CK.js";import"./get-listings-DRrhn1kK.js";import"./get-reviews-D6hE6ck7.js";const S=({onSuccess:l})=>{const n=v({onSuccess:l}),[f]=N(),b=f.get("redirectTo"),t=P({}),i=C({}),{addNotification:c}=y();return e.jsx("div",{className:"w-full rounded-lg bg-white shadow dark:border dark:border-gray-700 dark:bg-gray-800 sm:max-w-md md:mt-0 md:max-w-xl xl:p-0",children:e.jsxs("div",{className:"space-y-4 p-6 sm:p-8 md:space-y-6",children:[e.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight text-success dark:text-white md:text-2xl",children:"Register your account"}),e.jsx(F,{onSubmit:r=>{w.getState().setEmail(r.email),n.mutate(r,{mutationConfig:{onSuccess(){c({type:"success",title:"Success",message:"Registration Successful"})},onError:s=>{const d=k(s);c({type:"error",title:"Validation Error",message:d})}}})},schema:_,options:{shouldUnregister:!0},className:"space-y-4 md:space-y-6",children:({register:r,formState:s})=>{var d,m,p,x,u,g;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-2",children:[e.jsx("div",{children:e.jsx(a,{type:"text",label:"First Name",error:s.errors.first_name,registration:r("first_name")})}),e.jsx("div",{children:e.jsx(a,{type:"text",label:"Last Name",error:s.errors.last_name,registration:r("last_name")})}),e.jsx("div",{children:e.jsx(a,{type:"text",label:"Email",error:s.errors.email,registration:r("email")})}),e.jsx("div",{children:e.jsx(a,{type:"text",label:"Address",error:s.errors.address,registration:r("address")})}),e.jsx("div",{children:e.jsx(a,{type:"text",label:"Phone Number",error:s.errors.phone,registration:r("phone")})}),e.jsx("div",{children:e.jsx(h,{label:"State",error:s.errors.state_id,registration:r("state_id"),options:t.isLoading||!((d=t.data)!=null&&d.data)?[]:(p=(m=t==null?void 0:t.data)==null?void 0:m.data)==null?void 0:p.map(o=>({label:o.name,value:o.id}))})}),e.jsx("div",{children:e.jsx(a,{type:"password",label:"Password",error:s.errors.password,registration:r("password"),placeholder:"••••••••"})}),e.jsx("div",{children:e.jsx(a,{type:"password",label:"Confirm password",error:s.errors.password_confirmation,registration:r("password_confirmation"),placeholder:"••••••••"})}),e.jsx("div",{children:e.jsx(h,{label:"Country",error:s.errors.country_id,registration:r("country_id"),options:i.isLoading||!((x=i.data)!=null&&x.data)?[]:(g=(u=i==null?void 0:i.data)==null?void 0:u.data)==null?void 0:g.map(o=>({label:o.name,value:o.id}))})})]}),e.jsx(A,{isLoading:n.isPending,type:"submit",className:"focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 w-full rounded-lg bg-success px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-primary focus:outline-none focus:ring-4",children:"Create an account"}),e.jsxs("p",{className:"text-sm font-light text-gray-500 dark:text-gray-400",children:["Already have an account?"," ",e.jsx(L,{to:j.auth.login.getHref(b),className:"text-primary-600 dark:text-primary-500 font-medium hover:underline",children:"Login here"})]})]})}})]})})},G=()=>{const l=R(),{addNotification:n}=y();return e.jsx(E,{title:"",children:e.jsx("section",{className:"bg-gray-50 pb-24 dark:bg-gray-900",children:e.jsx("div",{className:"mx-auto flex flex-col items-center justify-center px-6 py-8 md:h-screen lg:py-0",children:e.jsx(S,{onSuccess:()=>{n({type:"success",title:"Registration successful"}),l(j.auth.verify.getHref(),{replace:!0})}})})})})};export{G as RegisterRoute};
