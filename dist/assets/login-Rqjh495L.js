import{m as h,l as u,f as p,j as e,h as x,n as y,L as m,p as a,i as f,k as b,g as k}from"./index-CMbjzSXO.js";import{A as j}from"./password-reset-CEgizwO2.js";import{B as w}from"./get-category-D_4z0seI.js";import{F as N,I as g}from"./get-countries-D00X0R5n.js";import"./confirm-booking-payment-zrejkqYx.js";import"./not-found-BtJxH9CK.js";import"./get-listings-DRrhn1kK.js";import"./get-states-CxLu8I-w.js";import"./get-reviews-D6hE6ck7.js";const v=({onSuccess:d})=>{const t=h({onSuccess:d}),[o]=u(),i=o.get("redirectTo"),{addNotification:c}=p();return e.jsxs(e.Fragment,{children:[e.jsx(N,{onSubmit:s=>{t.mutate(s,{mutationConfig:{onSuccess:()=>{c({type:"success",title:"Listing created"})},onError:r=>{const n=x(r);c({type:"error",title:r==null?void 0:r.message,message:n})}}})},schema:y,className:"space-y-4 md:space-y-6",children:({register:s,formState:r})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx(g,{type:"email",label:"Email",className:"focus:ring-primary-600 focus:border-primary-600 block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"name@company.com",error:r.errors.email,registration:s("email")})}),e.jsx("div",{children:e.jsx(g,{type:"password",label:"Password",placeholder:"••••••••",className:"focus:ring-primary-600 focus:border-primary-600 block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",error:r.errors.password,registration:s("password")})}),e.jsx("div",{className:"flex items-start justify-end",children:e.jsx("div",{className:"flex h-5 items-center",children:e.jsx("div",{className:"text-sm",children:e.jsx(m,{to:a.auth.passwordReset.getHref(i),className:"font-semibold text-black hover:text-primary hover:underline",children:"Forgot password?"})})})}),e.jsx(w,{isLoading:t.isPending,type:"submit",className:"focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 w-full rounded-lg bg-success px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-primary focus:outline-none focus:ring-4",children:"Login an account"})]})}),e.jsxs("p",{className:"text-sm font-light text-gray-500 dark:text-gray-400",children:["Don't have an account?"," ",e.jsx(m,{to:a.auth.chooseAccount.getHref(i),className:"text-primary-600 dark:text-primary-500 font-medium hover:underline",children:"Register here"})]})]})},T=()=>{var n,l;const d=f(),[t]=u(),o=t.get("redirectTo"),{addNotification:i}=p(),{setIsAuthenticated:c}=b(),s=k(),r=(l=(n=s==null?void 0:s.data)==null?void 0:n.role)==null?void 0:l.name;return e.jsx(j,{title:"",children:e.jsx("section",{className:"bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"mx-auto flex flex-col items-center justify-center px-6 py-8 md:h-screen lg:py-0",children:e.jsx("div",{className:"w-full rounded-lg bg-white shadow dark:border dark:border-gray-700 dark:bg-gray-800 sm:max-w-md md:mt-0 xl:p-0",children:e.jsxs("div",{className:"space-y-4 p-6 sm:p-8 md:space-y-6",children:[e.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight text-success dark:text-white md:text-2xl",children:"Sign in to your account"}),e.jsx(v,{onSuccess:()=>{d(`${o?`${o}`:r==="owner"?a.app.owner.dashboard.getHref():r==="admin"?a.app.admin.dashboard.getHref():a.home.getHref()}`,{replace:!0}),c(!0),i({type:"success",title:"Login Successful"})}})]})})})})})};export{T as LoginRoute};
