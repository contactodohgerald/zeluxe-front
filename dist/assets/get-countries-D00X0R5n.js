import{j as w,r as j,c as J,R,bv as Sr,d as kr,q as Nr,b as Cr}from"./index-CMbjzSXO.js";import{S as ar,c as Or}from"./get-reviews-D6hE6ck7.js";const Tr=({errorMessage:e})=>e?w.jsx("div",{role:"alert","aria-label":e,className:"text-sm font-semibold text-danger",children:e}):null;var Rr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ir=Rr.reduce((e,t)=>{const r=j.forwardRef((i,o)=>{const{asChild:a,...c}=i,g=a?ar:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(g,{...c,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Lr="Label",or=j.forwardRef((e,t)=>w.jsx(Ir.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));or.displayName=Lr;var lr=or;const jr=Or("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Te=j.forwardRef(({className:e,...t},r)=>w.jsx(lr,{ref:r,className:J(jr(),e),...t}));Te.displayName=lr.displayName;const Re=e=>{const{label:t,error:r,children:i}=e;return w.jsxs("div",{children:[w.jsxs(Te,{children:[t,w.jsx("div",{className:"mb-2 mt-1 block text-sm font-medium text-gray-900 dark:text-white",children:i})]}),w.jsx(Tr,{errorMessage:r==null?void 0:r.message})]})},Mr=j.forwardRef(({className:e,type:t,label:r,error:i,registration:o,...a},c)=>w.jsx(Re,{label:r,error:i,children:w.jsx("input",{type:t,className:J("block w-full rounded-lg border border-gray-300 bg-gray-50 bg-transparent p-2.5 text-sm text-secondary outline-none focus:border-primary focus:ring-primary",e),ref:c,...o,...a})}));Mr.displayName="Input";var ye=e=>e.type==="checkbox",se=e=>e instanceof Date,I=e=>e==null;const ur=e=>typeof e=="object";var D=e=>!I(e)&&!Array.isArray(e)&&ur(e)&&!se(e),Ur=e=>D(e)&&e.target?ye(e.target)?e.target.checked:e.target.value:e,Pr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Br=(e,t)=>e.has(Pr(t)),qr=e=>{const t=e.constructor&&e.constructor.prototype;return D(t)&&t.hasOwnProperty("isPrototypeOf")},Ie=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function B(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ie&&(e instanceof Blob||e instanceof FileList))&&(r||D(e)))if(t=r?[]:{},!r&&!qr(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=B(e[i]));else return e;return t}var Ve=e=>Array.isArray(e)?e.filter(Boolean):[],p=e=>e===void 0,y=(e,t,r)=>{if(!t||!D(e))return r;const i=Ve(t.split(/[,[\].]+?/)).reduce((o,a)=>I(o)?o:o[a],e);return p(i)||i===e?p(e[t])?r:e[t]:i},W=e=>typeof e=="boolean",Le=e=>/^\w*$/.test(e),cr=e=>Ve(e.replace(/["|']|\]/g,"").split(/\.|\[/)),_=(e,t,r)=>{let i=-1;const o=Le(t)?[t]:cr(t),a=o.length,c=a-1;for(;++i<a;){const g=o[i];let A=r;if(i!==c){const O=e[g];A=D(O)||Array.isArray(O)?O:isNaN(+o[i+1])?{}:[]}if(g==="__proto__")return;e[g]=A,e=e[g]}return e};const ze={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},G={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},fr=R.createContext(null),$r=()=>R.useContext(fr),Wr=e=>{const{children:t,...r}=e;return R.createElement(fr.Provider,{value:r},t)};var Hr=(e,t,r,i=!0)=>{const o={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(o,a,{get:()=>{const c=a;return t._proxyFormState[c]!==$.all&&(t._proxyFormState[c]=!i||$.all),e[c]}});return o},L=e=>D(e)&&!Object.keys(e).length,Kr=(e,t,r,i)=>{r(e);const{name:o,...a}=e;return L(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(c=>t[c]===$.all)},me=e=>Array.isArray(e)?e:[e];function Qr(e){const t=R.useRef(e);t.current=e,R.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var K=e=>typeof e=="string",Yr=(e,t,r,i,o)=>K(e)?(i&&t.watch.add(e),y(r,e,o)):Array.isArray(e)?e.map(a=>(i&&t.watch.add(a),y(r,a))):(i&&(t.watchAll=!0),r),dr=(e,t,r,i,o)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:o||!0}}:{},Ge=e=>({isOnSubmit:!e||e===$.onSubmit,isOnBlur:e===$.onBlur,isOnChange:e===$.onChange,isOnAll:e===$.all,isOnTouch:e===$.onTouched}),Je=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const de=(e,t,r,i)=>{for(const o of r||Object.keys(e)){const a=y(e,o);if(a){const{_f:c,...g}=a;if(c){if(c.refs&&c.refs[0]&&t(c.refs[0],o)&&!i)return!0;if(c.ref&&t(c.ref,c.name)&&!i)return!0;if(de(g,t))break}else if(D(g)&&de(g,t))break}}};var zr=(e,t,r)=>{const i=me(y(e,r));return _(i,"root",t[r]),_(e,r,i),e},je=e=>e.type==="file",H=e=>typeof e=="function",xe=e=>{if(!Ie)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},be=e=>K(e),Me=e=>e.type==="radio",Fe=e=>e instanceof RegExp;const Xe={value:!1,isValid:!1},Ze={value:!0,isValid:!0};var yr=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!p(e[0].attributes.value)?p(e[0].value)||e[0].value===""?Ze:{value:e[0].value,isValid:!0}:Ze:Xe}return Xe};const er={isValid:!1,value:null};var gr=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,er):er;function rr(e,t,r="validate"){if(be(e)||Array.isArray(e)&&e.every(be)||W(e)&&!e)return{type:r,message:be(e)?e:"",ref:t}}var ae=e=>D(e)&&!Fe(e)?e:{value:e,message:""},tr=async(e,t,r,i,o)=>{const{ref:a,refs:c,required:g,maxLength:A,minLength:O,min:V,max:m,pattern:ge,validate:X,name:M,valueAsNumber:Ae,mount:Q,disabled:Z}=e._f,x=y(t,M);if(!Q||Z)return{};const Y=c?c[0]:a,z=b=>{i&&Y.reportValidity&&(Y.setCustomValidity(W(b)?"":b||""),Y.reportValidity())},E={},ie=Me(a),he=ye(a),re=ie||he,ne=(Ae||je(a))&&p(a.value)&&p(x)||xe(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,U=dr.bind(null,M,r,E),ve=(b,F,S,T=G.maxLength,q=G.minLength)=>{const P=b?F:S;E[M]={type:b?T:q,message:P,ref:a,...U(b?T:q,P)}};if(o?!Array.isArray(x)||!x.length:g&&(!re&&(ne||I(x))||W(x)&&!x||he&&!yr(c).isValid||ie&&!gr(c).isValid)){const{value:b,message:F}=be(g)?{value:!!g,message:g}:ae(g);if(b&&(E[M]={type:G.required,message:F,ref:Y,...U(G.required,F)},!r))return z(F),E}if(!ne&&(!I(V)||!I(m))){let b,F;const S=ae(m),T=ae(V);if(!I(x)&&!isNaN(x)){const q=a.valueAsNumber||x&&+x;I(S.value)||(b=q>S.value),I(T.value)||(F=q<T.value)}else{const q=a.valueAsDate||new Date(x),P=ue=>new Date(new Date().toDateString()+" "+ue),oe=a.type=="time",le=a.type=="week";K(S.value)&&x&&(b=oe?P(x)>P(S.value):le?x>S.value:q>new Date(S.value)),K(T.value)&&x&&(F=oe?P(x)<P(T.value):le?x<T.value:q<new Date(T.value))}if((b||F)&&(ve(!!b,S.message,T.message,G.max,G.min),!r))return z(E[M].message),E}if((A||O)&&!ne&&(K(x)||o&&Array.isArray(x))){const b=ae(A),F=ae(O),S=!I(b.value)&&x.length>+b.value,T=!I(F.value)&&x.length<+F.value;if((S||T)&&(ve(S,b.message,F.message),!r))return z(E[M].message),E}if(ge&&!ne&&K(x)){const{value:b,message:F}=ae(ge);if(Fe(b)&&!x.match(b)&&(E[M]={type:G.pattern,message:F,ref:a,...U(G.pattern,F)},!r))return z(F),E}if(X){if(H(X)){const b=await X(x,t),F=rr(b,Y);if(F&&(E[M]={...F,...U(G.validate,F.message)},!r))return z(F.message),E}else if(D(X)){let b={};for(const F in X){if(!L(b)&&!r)break;const S=rr(await X[F](x,t),Y,F);S&&(b={...S,...U(F,S.message)},z(S.message),r&&(E[M]=b))}if(!L(b)&&(E[M]={ref:Y,...b},!r))return E}}return z(!0),E};function Gr(e,t){const r=t.slice(0,-1).length;let i=0;for(;i<r;)e=p(e)?i++:e[t[i++]];return e}function Jr(e){for(const t in e)if(e.hasOwnProperty(t)&&!p(e[t]))return!1;return!0}function k(e,t){const r=Array.isArray(t)?t:Le(t)?[t]:cr(t),i=r.length===1?e:Gr(e,r),o=r.length-1,a=r[o];return i&&delete i[a],o!==0&&(D(i)&&L(i)||Array.isArray(i)&&Jr(i))&&k(e,r.slice(0,-1)),e}var ke=()=>{let e=[];return{get observers(){return e},next:o=>{for(const a of e)a.next&&a.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(a=>a!==o)}}),unsubscribe:()=>{e=[]}}},Oe=e=>I(e)||!ur(e);function ee(e,t){if(Oe(e)||Oe(t))return e===t;if(se(e)&&se(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const o of r){const a=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const c=t[o];if(se(a)&&se(c)||D(a)&&D(c)||Array.isArray(a)&&Array.isArray(c)?!ee(a,c):a!==c)return!1}}return!0}var hr=e=>e.type==="select-multiple",Xr=e=>Me(e)||ye(e),Ne=e=>xe(e)&&e.isConnected,vr=e=>{for(const t in e)if(H(e[t]))return!0;return!1};function _e(e,t={}){const r=Array.isArray(e);if(D(e)||r)for(const i in e)Array.isArray(e[i])||D(e[i])&&!vr(e[i])?(t[i]=Array.isArray(e[i])?[]:{},_e(e[i],t[i])):I(e[i])||(t[i]=!0);return t}function mr(e,t,r){const i=Array.isArray(e);if(D(e)||i)for(const o in e)Array.isArray(e[o])||D(e[o])&&!vr(e[o])?p(t)||Oe(r[o])?r[o]=Array.isArray(e[o])?_e(e[o],[]):{..._e(e[o])}:mr(e[o],I(t)?{}:t[o],r[o]):r[o]=!ee(e[o],t[o]);return r}var ce=(e,t)=>mr(e,t,_e(t)),br=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:i})=>p(e)?e:t?e===""?NaN:e&&+e:r&&K(e)?new Date(e):i?i(e):e;function Ce(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return je(t)?t.files:Me(t)?gr(e.refs).value:hr(t)?[...t.selectedOptions].map(({value:r})=>r):ye(t)?yr(e.refs).value:br(p(t.value)?e.ref.value:t.value,e)}var Zr=(e,t,r,i)=>{const o={};for(const a of e){const c=y(t,a);c&&_(o,a,c._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:i}},fe=e=>p(e)?e:Fe(e)?e.source:D(e)?Fe(e.value)?e.value.source:e.value:e;const sr="AsyncFunction";var et=e=>(!e||!e.validate)&&!!(H(e.validate)&&e.validate.constructor.name===sr||D(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===sr)),rt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ir(e,t,r){const i=y(e,r);if(i||Le(r))return{error:i,name:r};const o=r.split(".");for(;o.length;){const a=o.join("."),c=y(t,a),g=y(e,a);if(c&&!Array.isArray(c)&&r!==a)return{name:r};if(g&&g.type)return{name:a,error:g};o.pop()}return{name:r}}var tt=(e,t,r,i,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(t||e):(r?i.isOnBlur:o.isOnBlur)?!e:(r?i.isOnChange:o.isOnChange)?e:!0,st=(e,t)=>!Ve(y(e,t)).length&&k(e,t);const it={mode:$.onSubmit,reValidateMode:$.onChange,shouldFocusError:!0};function nt(e={}){let t={...it,...e},r={submitCount:0,isDirty:!1,isLoading:H(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},o=D(t.defaultValues)||D(t.values)?B(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:B(o),c={action:!1,mount:!1,watch:!1},g={mount:new Set,unMount:new Set,array:new Set,watch:new Set},A,O=0;const V={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:ke(),array:ke(),state:ke()},ge=Ge(t.mode),X=Ge(t.reValidateMode),M=t.criteriaMode===$.all,Ae=s=>n=>{clearTimeout(O),O=setTimeout(s,n)},Q=async s=>{if(!t.disabled&&(V.isValid||s)){const n=t.resolver?L((await re()).errors):await U(i,!0);n!==r.isValid&&m.state.next({isValid:n})}},Z=(s,n)=>{!t.disabled&&(V.isValidating||V.validatingFields)&&((s||Array.from(g.mount)).forEach(l=>{l&&(n?_(r.validatingFields,l,n):k(r.validatingFields,l))}),m.state.next({validatingFields:r.validatingFields,isValidating:!L(r.validatingFields)}))},x=(s,n=[],l,d,f=!0,u=!0)=>{if(d&&l&&!t.disabled){if(c.action=!0,u&&Array.isArray(y(i,s))){const h=l(y(i,s),d.argA,d.argB);f&&_(i,s,h)}if(u&&Array.isArray(y(r.errors,s))){const h=l(y(r.errors,s),d.argA,d.argB);f&&_(r.errors,s,h),st(r.errors,s)}if(V.touchedFields&&u&&Array.isArray(y(r.touchedFields,s))){const h=l(y(r.touchedFields,s),d.argA,d.argB);f&&_(r.touchedFields,s,h)}V.dirtyFields&&(r.dirtyFields=ce(o,a)),m.state.next({name:s,isDirty:b(s,n),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else _(a,s,n)},Y=(s,n)=>{_(r.errors,s,n),m.state.next({errors:r.errors})},z=s=>{r.errors=s,m.state.next({errors:r.errors,isValid:!1})},E=(s,n,l,d)=>{const f=y(i,s);if(f){const u=y(a,s,p(l)?y(o,s):l);p(u)||d&&d.defaultChecked||n?_(a,s,n?u:Ce(f._f)):T(s,u),c.mount&&Q()}},ie=(s,n,l,d,f)=>{let u=!1,h=!1;const v={name:s};if(!t.disabled){const N=!!(y(i,s)&&y(i,s)._f&&y(i,s)._f.disabled);if(!l||d){V.isDirty&&(h=r.isDirty,r.isDirty=v.isDirty=b(),u=h!==v.isDirty);const C=N||ee(y(o,s),n);h=!!(!N&&y(r.dirtyFields,s)),C||N?k(r.dirtyFields,s):_(r.dirtyFields,s,!0),v.dirtyFields=r.dirtyFields,u=u||V.dirtyFields&&h!==!C}if(l){const C=y(r.touchedFields,s);C||(_(r.touchedFields,s,l),v.touchedFields=r.touchedFields,u=u||V.touchedFields&&C!==l)}u&&f&&m.state.next(v)}return u?v:{}},he=(s,n,l,d)=>{const f=y(r.errors,s),u=V.isValid&&W(n)&&r.isValid!==n;if(e.delayError&&l?(A=Ae(()=>Y(s,l)),A(e.delayError)):(clearTimeout(O),A=null,l?_(r.errors,s,l):k(r.errors,s)),(l?!ee(f,l):f)||!L(d)||u){const h={...d,...u&&W(n)?{isValid:n}:{},errors:r.errors,name:s};r={...r,...h},m.state.next(h)}},re=async s=>{Z(s,!0);const n=await t.resolver(a,t.context,Zr(s||g.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return Z(s),n},ne=async s=>{const{errors:n}=await re(s);if(s)for(const l of s){const d=y(n,l);d?_(r.errors,l,d):k(r.errors,l)}else r.errors=n;return n},U=async(s,n,l={valid:!0})=>{for(const d in s){const f=s[d];if(f){const{_f:u,...h}=f;if(u){const v=g.array.has(u.name),N=f._f&&et(f._f);N&&V.validatingFields&&Z([d],!0);const C=await tr(f,a,M,t.shouldUseNativeValidation&&!n,v);if(N&&V.validatingFields&&Z([d]),C[u.name]&&(l.valid=!1,n))break;!n&&(y(C,u.name)?v?zr(r.errors,C,u.name):_(r.errors,u.name,C[u.name]):k(r.errors,u.name))}!L(h)&&await U(h,n,l)}}return l.valid},ve=()=>{for(const s of g.unMount){const n=y(i,s);n&&(n._f.refs?n._f.refs.every(l=>!Ne(l)):!Ne(n._f.ref))&&pe(s)}g.unMount=new Set},b=(s,n)=>!t.disabled&&(s&&n&&_(a,s,n),!ee(Ue(),o)),F=(s,n,l)=>Yr(s,g,{...c.mount?a:p(n)?o:K(s)?{[s]:n}:n},l,n),S=s=>Ve(y(c.mount?a:o,s,e.shouldUnregister?y(o,s,[]):[])),T=(s,n,l={})=>{const d=y(i,s);let f=n;if(d){const u=d._f;u&&(!u.disabled&&_(a,s,br(n,u)),f=xe(u.ref)&&I(n)?"":n,hr(u.ref)?[...u.ref.options].forEach(h=>h.selected=f.includes(h.value)):u.refs?ye(u.ref)?u.refs.length>1?u.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(f)?!!f.find(v=>v===h.value):f===h.value)):u.refs[0]&&(u.refs[0].checked=!!f):u.refs.forEach(h=>h.checked=h.value===f):je(u.ref)?u.ref.value="":(u.ref.value=f,u.ref.type||m.values.next({name:s,values:{...a}})))}(l.shouldDirty||l.shouldTouch)&&ie(s,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ue(s)},q=(s,n,l)=>{for(const d in n){const f=n[d],u=`${s}.${d}`,h=y(i,u);(g.array.has(s)||D(f)||h&&!h._f)&&!se(f)?q(u,f,l):T(u,f,l)}},P=(s,n,l={})=>{const d=y(i,s),f=g.array.has(s),u=B(n);_(a,s,u),f?(m.array.next({name:s,values:{...a}}),(V.isDirty||V.dirtyFields)&&l.shouldDirty&&m.state.next({name:s,dirtyFields:ce(o,a),isDirty:b(s,u)})):d&&!d._f&&!I(u)?q(s,u,l):T(s,u,l),Je(s,g)&&m.state.next({...r}),m.values.next({name:c.mount?s:void 0,values:{...a}})},oe=async s=>{c.mount=!0;const n=s.target;let l=n.name,d=!0;const f=y(i,l),u=()=>n.type?Ce(f._f):Ur(s),h=v=>{d=Number.isNaN(v)||se(v)&&isNaN(v.getTime())||ee(v,y(a,l,v))};if(f){let v,N;const C=u(),te=s.type===ze.BLUR||s.type===ze.FOCUS_OUT,pr=!rt(f._f)&&!t.resolver&&!y(r.errors,l)&&!f._f.deps||tt(te,y(r.touchedFields,l),r.isSubmitted,X,ge),Ee=Je(l,g,te);_(a,l,C),te?(f._f.onBlur&&f._f.onBlur(s),A&&A(0)):f._f.onChange&&f._f.onChange(s);const Se=ie(l,C,te,!1),Dr=!L(Se)||Ee;if(!te&&m.values.next({name:l,type:s.type,values:{...a}}),pr)return V.isValid&&(e.mode==="onBlur"?te&&Q():Q()),Dr&&m.state.next({name:l,...Ee?{}:Se});if(!te&&Ee&&m.state.next({...r}),t.resolver){const{errors:Qe}=await re([l]);if(h(C),d){const Er=ir(r.errors,i,l),Ye=ir(Qe,i,Er.name||l);v=Ye.error,l=Ye.name,N=L(Qe)}}else Z([l],!0),v=(await tr(f,a,M,t.shouldUseNativeValidation))[l],Z([l]),h(C),d&&(v?N=!1:V.isValid&&(N=await U(i,!0)));d&&(f._f.deps&&ue(f._f.deps),he(l,N,v,Se))}},le=(s,n)=>{if(y(r.errors,n)&&s.focus)return s.focus(),1},ue=async(s,n={})=>{let l,d;const f=me(s);if(t.resolver){const u=await ne(p(s)?s:f);l=L(u),d=s?!f.some(h=>y(u,h)):l}else s?(d=(await Promise.all(f.map(async u=>{const h=y(i,u);return await U(h&&h._f?{[u]:h}:h)}))).every(Boolean),!(!d&&!r.isValid)&&Q()):d=l=await U(i);return m.state.next({...!K(s)||V.isValid&&l!==r.isValid?{}:{name:s},...t.resolver||!s?{isValid:l}:{},errors:r.errors}),n.shouldFocus&&!d&&de(i,le,s?f:g.mount),d},Ue=s=>{const n={...c.mount?a:o};return p(s)?n:K(s)?y(n,s):s.map(l=>y(n,l))},Pe=(s,n)=>({invalid:!!y((n||r).errors,s),isDirty:!!y((n||r).dirtyFields,s),error:y((n||r).errors,s),isValidating:!!y(r.validatingFields,s),isTouched:!!y((n||r).touchedFields,s)}),_r=s=>{s&&me(s).forEach(n=>k(r.errors,n)),m.state.next({errors:s?r.errors:{}})},Be=(s,n,l)=>{const d=(y(i,s,{_f:{}})._f||{}).ref,f=y(r.errors,s)||{},{ref:u,message:h,type:v,...N}=f;_(r.errors,s,{...N,...n,ref:d}),m.state.next({name:s,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&d&&d.focus&&d.focus()},Vr=(s,n)=>H(s)?m.values.subscribe({next:l=>s(F(void 0,n),l)}):F(s,n,!0),pe=(s,n={})=>{for(const l of s?me(s):g.mount)g.mount.delete(l),g.array.delete(l),n.keepValue||(k(i,l),k(a,l)),!n.keepError&&k(r.errors,l),!n.keepDirty&&k(r.dirtyFields,l),!n.keepTouched&&k(r.touchedFields,l),!n.keepIsValidating&&k(r.validatingFields,l),!t.shouldUnregister&&!n.keepDefaultValue&&k(o,l);m.values.next({values:{...a}}),m.state.next({...r,...n.keepDirty?{isDirty:b()}:{}}),!n.keepIsValid&&Q()},qe=({disabled:s,name:n,field:l,fields:d,value:f})=>{if(W(s)&&c.mount||s){const u=s?void 0:p(f)?Ce(l?l._f:y(d,n)._f):f;_(a,n,u),ie(n,u,!1,!1,!0)}},De=(s,n={})=>{let l=y(i,s);const d=W(n.disabled)||W(t.disabled);return _(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...n}}),g.mount.add(s),l?qe({field:l,disabled:W(n.disabled)?n.disabled:t.disabled,name:s,value:n.value}):E(s,!0,n.value),{...d?{disabled:n.disabled||t.disabled}:{},...t.progressive?{required:!!n.required,min:fe(n.min),max:fe(n.max),minLength:fe(n.minLength),maxLength:fe(n.maxLength),pattern:fe(n.pattern)}:{},name:s,onChange:oe,onBlur:oe,ref:f=>{if(f){De(s,n),l=y(i,s);const u=p(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,h=Xr(u),v=l._f.refs||[];if(h?v.find(N=>N===u):u===l._f.ref)return;_(i,s,{_f:{...l._f,...h?{refs:[...v.filter(Ne),u,...Array.isArray(y(o,s))?[{}]:[]],ref:{type:u.type,name:s}}:{ref:u}}}),E(s,!1,void 0,u)}else l=y(i,s,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&!(Br(g.array,s)&&c.action)&&g.unMount.add(s)}}},$e=()=>t.shouldFocusError&&de(i,le,g.mount),wr=s=>{W(s)&&(m.state.next({disabled:s}),de(i,(n,l)=>{const d=y(i,l);d&&(n.disabled=d._f.disabled||s,Array.isArray(d._f.refs)&&d._f.refs.forEach(f=>{f.disabled=d._f.disabled||s}))},0,!1))},We=(s,n)=>async l=>{let d;if(l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist()),t.disabled){n&&await n({...r.errors},l);return}let f=B(a);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:u,values:h}=await re();r.errors=u,f=h}else await U(i);if(k(r.errors,"root"),L(r.errors)){m.state.next({errors:{}});try{await s(f,l)}catch(u){d=u}}else n&&await n({...r.errors},l),$e(),setTimeout($e);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:L(r.errors)&&!d,submitCount:r.submitCount+1,errors:r.errors}),d)throw d},Ar=(s,n={})=>{y(i,s)&&(p(n.defaultValue)?P(s,B(y(o,s))):(P(s,n.defaultValue),_(o,s,B(n.defaultValue))),n.keepTouched||k(r.touchedFields,s),n.keepDirty||(k(r.dirtyFields,s),r.isDirty=n.defaultValue?b(s,B(y(o,s))):b()),n.keepError||(k(r.errors,s),V.isValid&&Q()),m.state.next({...r}))},He=(s,n={})=>{const l=s?B(s):o,d=B(l),f=L(s),u=f?o:d;if(n.keepDefaultValues||(o=l),!n.keepValues){if(n.keepDirtyValues){const h=new Set([...g.mount,...Object.keys(ce(o,a))]);for(const v of Array.from(h))y(r.dirtyFields,v)?_(u,v,y(a,v)):P(v,y(u,v))}else{if(Ie&&p(s))for(const h of g.mount){const v=y(i,h);if(v&&v._f){const N=Array.isArray(v._f.refs)?v._f.refs[0]:v._f.ref;if(xe(N)){const C=N.closest("form");if(C){C.reset();break}}}}i={}}a=e.shouldUnregister?n.keepDefaultValues?B(o):{}:B(u),m.array.next({values:{...u}}),m.values.next({values:{...u}})}g={mount:n.keepDirtyValues?g.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!V.isValid||!!n.keepIsValid||!!n.keepDirtyValues,c.watch=!!e.shouldUnregister,m.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:f?!1:n.keepDirty?r.isDirty:!!(n.keepDefaultValues&&!ee(s,o)),isSubmitted:n.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:f?{}:n.keepDirtyValues?n.keepDefaultValues&&a?ce(o,a):r.dirtyFields:n.keepDefaultValues&&s?ce(o,s):n.keepDirty?r.dirtyFields:{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ke=(s,n)=>He(H(s)?s(a):s,n);return{control:{register:De,unregister:pe,getFieldState:Pe,handleSubmit:We,setError:Be,_executeSchema:re,_getWatch:F,_getDirty:b,_updateValid:Q,_removeUnmounted:ve,_updateFieldArray:x,_updateDisabledField:qe,_getFieldArray:S,_reset:He,_resetDefaultValues:()=>H(t.defaultValues)&&t.defaultValues().then(s=>{Ke(s,t.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:s=>{r={...r,...s}},_disableForm:wr,_subjects:m,_proxyFormState:V,_setErrors:z,get _fields(){return i},get _formValues(){return a},get _state(){return c},set _state(s){c=s},get _defaultValues(){return o},get _names(){return g},set _names(s){g=s},get _formState(){return r},set _formState(s){r=s},get _options(){return t},set _options(s){t={...t,...s}}},trigger:ue,register:De,handleSubmit:We,watch:Vr,setValue:P,getValues:Ue,reset:Ke,resetField:Ar,clearErrors:_r,unregister:pe,setError:Be,setFocus:(s,n={})=>{const l=y(i,s),d=l&&l._f;if(d){const f=d.refs?d.refs[0]:d.ref;f.focus&&(f.focus(),n.shouldSelect&&H(f.select)&&f.select())}},getFieldState:Pe}}function at(e={}){const t=R.useRef(),r=R.useRef(),[i,o]=R.useState({isDirty:!1,isValidating:!1,isLoading:H(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:H(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...nt(e),formState:i});const a=t.current.control;return a._options=e,Qr({subject:a._subjects.state,next:c=>{Kr(c,a._proxyFormState,a._updateFormState)&&o({...a._formState})}}),R.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),R.useEffect(()=>{if(a._proxyFormState.isDirty){const c=a._getDirty();c!==i.isDirty&&a._subjects.state.next({isDirty:c})}},[a,i.isDirty]),R.useEffect(()=>{e.values&&!ee(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,o(c=>({...c}))):a._resetDefaultValues()},[e.values,a]),R.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),R.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),R.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=Hr(i,a),t.current}const nr=(e,t,r)=>{if(e&&"reportValidity"in e){const i=y(r,t);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},xr=(e,t)=>{for(const r in t.fields){const i=t.fields[r];i&&i.ref&&"reportValidity"in i.ref?nr(i.ref,r,e):i.refs&&i.refs.forEach(o=>nr(o,r,e))}},ot=(e,t)=>{t.shouldUseNativeValidation&&xr(e,t);const r={};for(const i in e){const o=y(t.fields,i),a=Object.assign(e[i]||{},{ref:o&&o.ref});if(lt(t.names||Object.keys(e),i)){const c=Object.assign({},y(r,i));_(c,"root",a),_(r,i,c)}else _(r,i,a)}return r},lt=(e,t)=>e.some(r=>r.startsWith(t+"."));var ut=function(e,t){for(var r={};e.length;){var i=e[0],o=i.code,a=i.message,c=i.path.join(".");if(!r[c])if("unionErrors"in i){var g=i.unionErrors[0].errors[0];r[c]={message:g.message,type:g.code}}else r[c]={message:a,type:o};if("unionErrors"in i&&i.unionErrors.forEach(function(V){return V.errors.forEach(function(m){return e.push(m)})}),t){var A=r[c].types,O=A&&A[i.code];r[c]=dr(c,t,r,o,O?[].concat(O,i.message):i.message)}e.shift()}return r},ct=function(e,t,r){return r===void 0&&(r={}),function(i,o,a){try{return Promise.resolve(function(c,g){try{var A=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](i,t)).then(function(O){return a.shouldUseNativeValidation&&xr({},a),{errors:{},values:r.raw?i:O}})}catch(O){return g(O)}return A&&A.then?A.then(void 0,g):A}(0,function(c){if(function(g){return Array.isArray(g==null?void 0:g.errors)}(c))return{values:{},errors:ot(ut(c.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw c}))}catch(c){return Promise.reject(c)}}};const ft=j.createContext({}),we=()=>{const e=j.useContext(ft),t=j.useContext(Fr),{getFieldState:r,formState:i}=$r(),o=r(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...o}},Fr=j.createContext({}),dt=j.forwardRef(({className:e,...t},r)=>{const i=j.useId();return w.jsx(Fr.Provider,{value:{id:i},children:w.jsx("div",{ref:r,className:J("space-y-2",e),...t})})});dt.displayName="FormItem";const yt=j.forwardRef(({className:e,...t},r)=>{const{error:i,formItemId:o}=we();return w.jsx(Te,{ref:r,className:J(i&&"text-destructive",e),htmlFor:o,...t})});yt.displayName="FormLabel";const gt=j.forwardRef(({...e},t)=>{const{error:r,formItemId:i,formDescriptionId:o,formMessageId:a}=we();return w.jsx(ar,{ref:t,id:i,"aria-describedby":r?`${o} ${a}`:`${o}`,"aria-invalid":!!r,...e})});gt.displayName="FormControl";const ht=j.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:i}=we();return w.jsx("p",{ref:r,id:i,className:J("text-muted-foreground text-[0.8rem]",e),...t})});ht.displayName="FormDescription";const vt=j.forwardRef(({className:e,children:t,...r},i)=>{const{error:o,formMessageId:a}=we(),c=o?String(o==null?void 0:o.message):t;return c?w.jsx("p",{ref:i,id:a,className:J("text-destructive text-[0.8rem] font-medium",e),...r,children:c}):null});vt.displayName="FormMessage";const pt=({onSubmit:e,children:t,className:r,options:i,id:o,schema:a})=>{const c=at({...i,resolver:ct(a)});return w.jsx(Wr,{...c,children:w.jsx("form",{className:J("space-y-6",r),onSubmit:c.handleSubmit(e),id:o,children:t(c)})})},mt=R.forwardRef(({className:e,label:t,error:r,registration:i,...o},a)=>w.jsx(Re,{label:t,error:r,children:w.jsx("textarea",{className:J("flex min-h-[60px] w-full rounded-lg border border-gray-300 bg-gray-50 bg-transparent p-2.5 text-sm text-secondary outline-none focus:border-primary focus:ring-primary",e),ref:a,...i,...o})}));mt.displayName="Textarea";const Dt=e=>{const{label:t,options:r,error:i,className:o,defaultValue:a,registration:c}=e;return w.jsx(Re,{label:t,error:i,children:w.jsx("select",{className:J("block w-full rounded-lg border border-gray-300 bg-gray-50 bg-transparent p-2.5 text-sm text-secondary outline-none focus:border-primary focus:ring-primary",o),defaultValue:a,...c,children:r.map(({label:g,value:A})=>w.jsx("option",{value:A,children:g},Sr()))})})},bt=()=>Cr.get("/countries"),xt=()=>Nr({queryKey:["countries"],queryFn:()=>bt()}),Et=({queryConfig:e={}}={})=>kr({...xt(),...e});export{pt as F,Mr as I,Dt as S,mt as T,Et as u};
