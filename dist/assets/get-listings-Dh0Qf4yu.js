import{r as l,F as K,R as k,b3 as ee,b4 as fe,b5 as Z,K as U,b6 as N,E as W,I as S,G as _,$ as te,J as be,M as pe,_ as re,b7 as xe,b8 as G,b9 as q,ba as j,bb as ge,bc as P,bd as M,be as T,bf as me,d as ve,q as Pe,b as Te}from"./index-CMbjzSXO.js";function he(){let e=l.useRef(!1);return K(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Ie({onFocus:e}){let[t,n]=l.useState(!0),r=he();return t?k.createElement(ee,{as:"button",type:"button",features:fe.Focusable,onFocus:u=>{u.preventDefault();let s,a=50;function o(){if(a--<=0){s&&cancelAnimationFrame(s);return}if(e()){if(cancelAnimationFrame(s),!r.current)return;n(!1);return}s=requestAnimationFrame(o)}s=requestAnimationFrame(o)}}):null}const ne=l.createContext(null);function ye(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let u=(n=r.get(t))!=null?n:0;r.set(t,u+1);let s=Array.from(r.keys()).indexOf(t);function a(){let o=r.get(t);o>1?r.set(t,o-1):r.delete(t)}return[s,a]}}}function $e({children:e}){let t=l.useRef(ye());return l.createElement(ne.Provider,{value:t},e)}function ae(e){let t=l.useContext(ne);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=l.useId(),[r,u]=t.current.get(e,n);return l.useEffect(()=>u,[]),r}var Ee=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ee||{}),we=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(we||{}),Se=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Se||{});let Fe={0(e,t){var n;let r=q(e.tabs,c=>c.current),u=q(e.panels,c=>c.current),s=r.filter(c=>{var g;return!((g=c.current)!=null&&g.hasAttribute("disabled"))}),a={...e,tabs:r,panels:u};if(t.index<0||t.index>r.length-1){let c=G(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>G(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(s.length===0)return a;let g=G(c,{0:()=>r.indexOf(s[0]),1:()=>r.indexOf(s[s.length-1])});return{...a,selectedIndex:g===-1?e.selectedIndex:g}}let o=r.slice(0,t.index),h=[...r.slice(t.index),...o].find(c=>s.includes(c));if(!h)return a;let x=(n=r.indexOf(h))!=null?n:e.selectedIndex;return x===-1&&(x=e.selectedIndex),{...a,selectedIndex:x}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=q([...e.tabs,t.tab],s=>s.current),u=e.selectedIndex;return e.info.current.isControlled||(u=r.indexOf(n),u===-1&&(u=e.selectedIndex)),{...e,tabs:r,selectedIndex:u}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:q([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},J=l.createContext(null);J.displayName="TabsDataContext";function C(e){let t=l.useContext(J);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,C),n}return t}let Q=l.createContext(null);Q.displayName="TabsActionsContext";function V(e){let t=l.useContext(Q);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,V),n}return t}function Ae(e,t){return G(t.type,Fe,e,t)}let Me="div";function ke(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:u=!1,onChange:s,selectedIndex:a=null,...o}=e;const h=r?"vertical":"horizontal",x=u?"manual":"auto";let c=a!==null,g=N({isControlled:c}),F=W(t),[b,d]=l.useReducer(Ae,{info:g,selectedIndex:a??n,tabs:[],panels:[]}),D=l.useMemo(()=>({selectedIndex:b.selectedIndex}),[b.selectedIndex]),R=N(s||(()=>{})),y=N(b.tabs),p=l.useMemo(()=>({orientation:h,activation:x,...b}),[h,x,b]),A=S(f=>(d({type:1,tab:f}),()=>d({type:2,tab:f}))),L=S(f=>(d({type:3,panel:f}),()=>d({type:4,panel:f}))),m=S(f=>{v.current!==f&&R.current(f),c||d({type:0,index:f})}),v=N(c?e.selectedIndex:b.selectedIndex),E=l.useMemo(()=>({registerTab:A,registerPanel:L,change:m}),[]);K(()=>{d({type:0,index:a??n})},[a]),K(()=>{if(v.current===void 0||b.tabs.length<=0)return;let f=q(b.tabs,$=>$.current);f.some(($,w)=>b.tabs[w]!==$)&&m(f.indexOf(b.tabs[v.current]))});let H={ref:F},O=_();return k.createElement($e,null,k.createElement(Q.Provider,{value:E},k.createElement(J.Provider,{value:p},p.tabs.length<=0&&k.createElement(Ie,{onFocus:()=>{var f,$;for(let w of y.current)if(((f=w.current)==null?void 0:f.tabIndex)===0)return($=w.current)==null||$.focus(),!0;return!1}}),O({ourProps:H,theirProps:o,slot:D,defaultTag:Me,name:"Tabs"}))))}let Ce="div";function De(e,t){let{orientation:n,selectedIndex:r}=C("Tab.List"),u=W(t),s=l.useMemo(()=>({selectedIndex:r}),[r]),a=e,o={ref:u,role:"tablist","aria-orientation":n};return _()({ourProps:o,theirProps:a,slot:s,defaultTag:Ce,name:"Tabs.List"})}let Re="button";function Le(e,t){var n,r;let u=l.useId(),{id:s=`headlessui-tabs-tab-${u}`,disabled:a=!1,autoFocus:o=!1,...h}=e,{orientation:x,activation:c,selectedIndex:g,tabs:F,panels:b}=C("Tab"),d=V("Tab"),D=C("Tab"),[R,y]=l.useState(null),p=l.useRef(null),A=W(p,t,y);K(()=>d.registerTab(p),[d,p]);let L=ae("tabs"),m=F.indexOf(p);m===-1&&(m=L);let v=m===g,E=S(i=>{var I;let B=i();if(B===j.Success&&c==="auto"){let ce=(I=ge(p))==null?void 0:I.activeElement,X=D.tabs.findIndex(de=>de.current===ce);X!==-1&&d.change(X)}return B}),H=S(i=>{let I=F.map(B=>B.current).filter(Boolean);if(i.key===P.Space||i.key===P.Enter){i.preventDefault(),i.stopPropagation(),d.change(m);return}switch(i.key){case P.Home:case P.PageUp:return i.preventDefault(),i.stopPropagation(),E(()=>M(I,T.First));case P.End:case P.PageDown:return i.preventDefault(),i.stopPropagation(),E(()=>M(I,T.Last))}if(E(()=>G(x,{vertical(){return i.key===P.ArrowUp?M(I,T.Previous|T.WrapAround):i.key===P.ArrowDown?M(I,T.Next|T.WrapAround):j.Error},horizontal(){return i.key===P.ArrowLeft?M(I,T.Previous|T.WrapAround):i.key===P.ArrowRight?M(I,T.Next|T.WrapAround):j.Error}}))===j.Success)return i.preventDefault()}),O=l.useRef(!1),f=S(()=>{var i;O.current||(O.current=!0,(i=p.current)==null||i.focus({preventScroll:!0}),d.change(m),me(()=>{O.current=!1}))}),$=S(i=>{i.preventDefault()}),{isFocusVisible:w,focusProps:se}=te({autoFocus:o}),{isHovered:z,hoverProps:le}=be({isDisabled:a}),{pressed:Y,pressProps:ue}=pe({disabled:a}),ie=l.useMemo(()=>({selected:v,hover:z,active:Y,focus:w,autofocus:o,disabled:a}),[v,z,w,Y,o,a]),oe=re({ref:A,onKeyDown:H,onMouseDown:$,onClick:f,id:s,role:"tab",type:xe(e,R),"aria-controls":(r=(n=b[m])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":v,tabIndex:v?0:-1,disabled:a||void 0,autoFocus:o},se,le,ue);return _()({ourProps:oe,theirProps:h,slot:ie,defaultTag:Re,name:"Tabs.Tab"})}let Oe="div";function qe(e,t){let{selectedIndex:n}=C("Tab.Panels"),r=W(t),u=l.useMemo(()=>({selectedIndex:n}),[n]),s=e,a={ref:r};return _()({ourProps:a,theirProps:s,slot:u,defaultTag:Oe,name:"Tabs.Panels"})}let Ge="div",Ke=Z.RenderStrategy|Z.Static;function Ue(e,t){var n,r,u,s;let a=l.useId(),{id:o=`headlessui-tabs-panel-${a}`,tabIndex:h=0,...x}=e,{selectedIndex:c,tabs:g,panels:F}=C("Tab.Panel"),b=V("Tab.Panel"),d=l.useRef(null),D=W(d,t);K(()=>b.registerPanel(d),[b,d]);let R=ae("panels"),y=F.indexOf(d);y===-1&&(y=R);let p=y===c,{isFocusVisible:A,focusProps:L}=te(),m=l.useMemo(()=>({selected:p,focus:A}),[p,A]),v=re({ref:D,id:o,role:"tabpanel","aria-labelledby":(r=(n=g[y])==null?void 0:n.current)==null?void 0:r.id,tabIndex:p?h:-1},L),E=_();return!p&&((u=x.unmount)==null||u)&&!((s=x.static)!=null&&s)?k.createElement(ee,{"aria-hidden":"true",...v}):E({ourProps:v,theirProps:x,slot:m,defaultTag:Ge,features:Ke,visible:p,name:"Tabs.Panel"})}let We=U(Le),_e=U(ke),Be=U(De),Ne=U(qe),je=U(Ue),Ve=Object.assign(We,{Group:_e,List:Be,Panels:Ne,Panel:je});const He=()=>Te.get("/admin/listing"),Je=()=>Pe({queryKey:["admin-listings"],queryFn:()=>He()}),ze=({queryConfig:e={}}={})=>ve({...Je(),...e});export{_e as B,je as K,Ve as T,Be as W,Ne as j,ze as u};
