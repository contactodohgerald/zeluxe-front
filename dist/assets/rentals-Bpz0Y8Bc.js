import{j as e,S as y,r as j,f as N,P as v,h as F}from"./index-BA5QVVV7.js";import{u as k,C as P}from"./confirm-booking-payment-DGALm_Zh.js";import{F as C}from"./form-search-C9pNbo9y.js";import{f as R,a as E,R as L}from"./get-reviews-eDTf4wHf.js";import{F as S,I as l}from"./get-countries-CXopN7Dk.js";import{B as A}from"./get-category--d4SC50h.js";import{C as c}from"./modal-B0eW36ol.js";import"./get-reviews-BQq6GQ2c.js";const I=({filterRentalMutation:n})=>n.isPaused?e.jsx("div",{className:"flex h-48 w-full items-center justify-center",children:e.jsx(y,{size:"lg"})}):e.jsxs(c,{className:"rounded-[1.4rem] bg-[#f9f9f9] p-[1.3rem] shadow-filter",children:[e.jsx("div",{className:"mb-2",children:e.jsx("h3",{className:"text-center font-lato text-[1.3rem] font-bold leading-[1.53rem] tracking-[0.03em] text-primary",children:"Advanced Filter Options"})}),e.jsx(S,{onSubmit:r=>{n.mutate({data:r})},schema:R,children:({register:r,formState:t})=>e.jsxs(e.Fragment,{children:[e.jsx(l,{className:"h-[3.2rem] w-full rounded-md bg-white px-3 py-3 font-lato text-[0.96rem] font-bold leading-[1.2rem] tracking-[0.03em] text-secondary outline-none focus:outline-none",type:"text",label:"Location",error:t.errors.location,registration:r("location")}),e.jsx(l,{className:"h-[3.2rem] w-full rounded-md bg-white px-3 py-3 font-lato text-[0.96rem] font-bold leading-[1.2rem] tracking-[0.03em] text-secondary outline-none focus:outline-none",type:"text",label:"Category",error:t.errors.category,registration:r("category")}),e.jsx("div",{className:"flex gap-x-[2.88rem]",children:e.jsx(l,{className:"h-[3.2rem] w-full rounded-md bg-white px-3 py-3 font-lato text-[0.96rem] font-bold leading-[1.2rem] tracking-[0.03em] text-secondary outline-none focus:outline-none",type:"text",label:"Bedrooms",error:t.errors.bedrooms,registration:r("bedrooms")})}),e.jsxs("div",{className:"flex gap-x-[2.88rem]",children:[e.jsx(l,{className:"h-[3.2rem] w-full rounded-md bg-white px-3 py-3 font-lato text-[0.96rem] font-bold leading-[1.2rem] tracking-[0.03em] text-secondary outline-none focus:outline-none",type:"text",label:"Min Price",error:t.errors.min_price,registration:r("min_price")}),e.jsx(l,{className:"h-[3.2rem] w-full rounded-md bg-white px-3 py-3 font-lato text-[0.96rem] font-bold leading-[1.2rem] tracking-[0.03em] text-secondary outline-none focus:outline-none",type:"text",label:"Max Price",error:t.errors.max_price,registration:r("max_price")})]}),e.jsx(l,{className:"h-[3.2rem] w-full rounded-md bg-white px-3 py-3 font-lato text-[0.96rem] font-bold leading-[1.2rem] tracking-[0.03em] text-secondary outline-none focus:outline-none",type:"text",label:"Keywords",placeholder:"",error:t.errors.keyword,registration:r("keyword")}),e.jsx(A,{type:"submit",isLoading:n.isPending,className:"flex w-full rounded-[0.4rem] bg-primary py-[0.67rem] font-lato text-[0.96rem] font-bold leading-[1.2rem] tracking-[0.03em] text-white outline-none focus:outline-none data-[active]:bg-primary data-[hover]:bg-primary",children:"Search"})]})})]}),Y=()=>{var h,p;const[n,r]=j.useState(1),t=10,o=k(),[s,u]=j.useState([]),i=(h=o==null?void 0:o.data)==null?void 0:h.data,{addNotification:m}=N(),f=E({mutationConfig:{onSuccess(a){m({type:"success",title:"success",message:"My rentals retrieved"});const d=a==null?void 0:a.data;u(a==null?void 0:a.data),Array.isArray(d)?u(d):m({type:"error",title:"Invalid Data",message:"Unexpected response format"})},onError(a){const d=F(a);m({type:"error",title:"Failure",message:d})}}});if(o.isLoading)return e.jsx("div",{className:"flex h-48 w-full items-center justify-center",children:e.jsx(y,{size:"lg"})});const x=s.length>0,b=(p=o==null?void 0:o.data)==null?void 0:p.data,w=x?s==null?void 0:s.slice((n-1)*t,n*t):i==null?void 0:i.slice((n-1)*t,n*t),g=x?s==null?void 0:s.length:(i==null?void 0:i.length)||0;return!b&&!x?e.jsx(c,{children:e.jsx("p",{children:"You have no Rentals Yet"})}):s.length===0&&!o.isSuccess?e.jsx(c,{children:e.jsx("p",{children:"No Filtered results found"})}):g===0?e.jsx(c,{children:e.jsx("p",{children:"You have no Rentals Yet"})}):(f.isPending,e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-[15px] mt-5 w-full rounded-[3.92px] border border-light bg-[#F9F9F9] px-5 py-[11.25px]",children:e.jsx(v,{currentPage:n,totalEntries:g,pageSize:t,onPageChange:r})}),e.jsxs("div",{className:"flex flex-col gap-[1.3rem] lg:flex-row",children:[e.jsx("div",{children:e.jsx(L,{rentals:w})}),e.jsx("div",{children:e.jsx(I,{filterRentalMutation:f})})]})]}))},U=()=>e.jsx(P,{title:"Rentals",component:e.jsx(C,{}),children:e.jsx(c,{className:"mt-4",children:e.jsx(Y,{})})});export{U as RentalsRoute};
