import{d as p,q as N,b as w,f as C,j as s,w as u,h as g,x as B,S as v}from"./index-CMbjzSXO.js";import{a as P,b as k,C as E}from"./confirm-booking-payment-zrejkqYx.js";import{B as l}from"./get-category-D_4z0seI.js";import{C as h}from"./modal-ByhjIqyQ.js";import"./get-reviews-D6hE6ck7.js";const L=({bookingId:t})=>w.get(`/show-rental-booking/${t}`),R=t=>N({queryKey:["rental-bookings",t],queryFn:()=>L({bookingId:t})}),y=({bookingId:t,queryConfig:a})=>p({...R(t),...a}),S=({bookingId:t})=>{var d,x,f;const{addNotification:a}=C(),r=y({bookingId:t}),i=P({mutationConfig:{onSuccess:()=>{a({type:"success",title:"Bookings Confirmed successfully"})},onError:n=>{const c=g(n);a({type:"error",title:n.message,message:c})}}}),m=k({mutationConfig:{onSuccess:()=>{a({type:"success",title:"Bookings Payment Confirmed successfully"})},onError:n=>{const c=g(n);a({type:"error",title:n.message,message:c})}}}),o=n=>{i.mutate({bookingId:n})},j=n=>{m.mutate({bookingId:n})};r.isLoading;const e=(d=r==null?void 0:r.data)==null?void 0:d.data;return!e||(e==null?void 0:e.length)===0?s.jsx(h,{children:s.jsx("p",{children:"No booking Available"})}):s.jsx(s.Fragment,{children:s.jsx("section",{className:"relative pt-4",children:s.jsx("div",{className:"mx-auto w-full max-w-7xl px-4 md:px-5 lg:px-6",children:s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("h2",{className:"font-raleway text-3xl font-bold leading-[1.2rem] tracking-[0.03em]",children:(x=e==null?void 0:e.rental)==null?void 0:x.name}),s.jsxs("div",{className:"flex gap-4",children:[(e==null?void 0:e.status)==="confirmed"?s.jsx(l,{className:"cursor-not-allowed bg-gray-200 text-secondary",disabled:!0,isLoading:i.isPending,onClick:()=>o(e==null?void 0:e.id),children:"Confirm Booking"}):s.jsx(l,{isLoading:i.isPending,onClick:()=>o(e==null?void 0:e.id),className:"bg-blue-500",children:"Confirm Booking"}),(e==null?void 0:e.status)!=="confirmed"?s.jsx(l,{className:"cursor-not-allowed bg-gray-200 text-secondary",disabled:!0,isLoading:i.isPending,onClick:()=>o(e==null?void 0:e.id),children:"Confirm Payment"}):s.jsx(l,{isLoading:m.isPending,onClick:()=>j(e==null?void 0:e.id),children:"Confirm Payment"})]})]}),s.jsx("div",{className:"my-8",children:s.jsx("p",{className:"text-lg font-normal leading-8 text-gray-500",children:(f=e==null?void 0:e.rental)==null?void 0:f.description})}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("h3",{className:"font-raleway text-[1.01rem] font-bold leading-[1.2rem] tracking-[0.03em]",children:"Start Date"}),s.jsx("p",{className:"text-lg font-normal leading-8 text-gray-500",children:u(e==null?void 0:e.start_date)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("h3",{className:"font-raleway text-[1.01rem] font-bold leading-[1.2rem] tracking-[0.03em]",children:"End Date"}),s.jsx("p",{className:"text-lg font-normal leading-8 text-gray-500",children:u(e==null?void 0:e.end_date)})]}),s.jsx("div",{className:"flex flex-col items-center justify-between pt-8 max-xl:mx-auto max-xl:max-w-3xl sm:flex-row",children:s.jsx("p",{className:"py-[1px] text-lg font-normal text-black",children:e==null?void 0:e.duration})})]})})})})},F=()=>{const a=B().bookingId;return y({bookingId:a}).isLoading?s.jsx("div",{className:"flex h-48 w-full items-center justify-center",children:s.jsx(v,{size:"lg"})}):s.jsx(E,{title:"Booking Details",children:s.jsx(h,{className:"mb-20 mt-8 h-full w-full border bg-white shadow-md",children:s.jsx(S,{bookingId:a})})})};export{F as BookingRoute};
