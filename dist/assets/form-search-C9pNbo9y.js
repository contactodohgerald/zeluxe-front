import{z as n,u as d,a as h,b as m,i as u,l as p,j as e,p as x}from"./index-BA5QVVV7.js";import{F as g,I as k}from"./get-countries-CXopN7Dk.js";const w=n.object({location:n.string().optional(),category:n.string().optional(),keyword:n.string().min(3,{message:""})}),y=({data:t})=>m.post("/search-rentals",t),j=({mutationConfig:t}={})=>{const i=d(),{onSuccess:r,...s}=t||{};return h({onSuccess:(...o)=>{i.invalidateQueries({queryKey:["rentals"]}),r==null||r(...o)},...s,mutationFn:y})},v=()=>{const t=u(),i=j(),[r]=p(),s=r.get("redirectTo"),o=c=>{const l={keyword:c.keyword};i.mutate({data:l},{onSuccess(a){t(`${s?`${s}`:x.app.search.getHref()}`,{state:{rentals:a==null?void 0:a.data}})}})};return e.jsx(e.Fragment,{children:e.jsx(g,{className:"mx-auto max-w-md",schema:w,onSubmit:o,children:({register:c,formState:l,watch:a})=>e.jsxs(e.Fragment,{children:[e.jsx("label",{htmlFor:"default-search",className:"sr-only mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3",children:e.jsxs("svg",{onClick:()=>o({keyword:a("keyword")}),className:"cursor-pointer",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M6.00386 9.47624C7.98808 9.47624 9.5966 7.86771 9.5966 5.8835C9.5966 3.89929 7.98808 2.29077 6.00386 2.29077C4.01965 2.29077 2.41113 3.89929 2.41113 5.8835C2.41113 7.86771 4.01965 9.47624 6.00386 9.47624Z",stroke:"#1E7E34",strokeWidth:"1.04516",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M11.5562 11.4356L8.50781 8.60498",stroke:"#1E7E34",strokeWidth:"1.04516",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx(k,{type:"search",id:"default-search",className:"block w-full rounded-[3.92px] border-[0.65px] bg-white p-4 ps-10 font-raleway text-sm font-[400] text-secondary outline-none placeholder:text-[0.49rem] placeholder:leading-[0.58rem] placeholder:tracking-[0.03em] placeholder:text-[#B1B1B1] focus:border-primary md:w-[17.3rem]",placeholder:"Search Listings",registration:c("keyword"),error:l.errors.keyword,required:!0})]})]})})})};export{v as F,w as s,j as u};
